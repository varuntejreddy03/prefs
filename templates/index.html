{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section mb-5">
    <div class="row">
        <div class="col-12">
            <div class="hero-card">
                <div class="hero-content">
                    <div class="hero-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h1 class="hero-title">Sir's Programming Class</h1>
                    <p class="hero-subtitle">Questions taught by sir in class</p>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <span class="stat-number">{{ progress.total_days }}</span>
                            <span class="stat-label">Days</span>
                        </div>
                        <div class="stat-divider"></div>
                        <div class="stat-item">
                            <span class="stat-number">{{ progress.total_questions }}</span>
                            <span class="stat-label">Problems</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="row mb-4 g-3">
    <div class="col-12 col-md-6">
        <div class="action-card stats-card">
            <div class="action-icon">
                <i class="fas fa-code"></i>
            </div>
            <div class="action-content">
                <h4>{{ progress.total_questions }}</h4>
                <p>Problems to Practice</p>
            </div>
        </div>
    </div>
    <div class="col-12 col-md-6">
        <div class="action-card search-card">
            <div class="action-icon">
                <i class="fas fa-search"></i>
            </div>
            <div class="action-content">
                <h5>Quick Search</h5>
                <form action="/search" method="GET" class="search-form">
                    <input type="text" name="q" class="search-input" placeholder="Search problems...">
                    <button type="submit" class="search-btn">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Problems Grid -->
<div class="problems-section">
    <div class="section-header">
        <h2><i class="fas fa-calendar-alt"></i> Study Schedule</h2>
        <p class="section-subtitle">Follow the order taught in class for optimal learning</p>
    </div>
    
    <div class="problems-grid">
        {% for day in days %}
        <div class="day-card" data-day="{{ day.day }}">
            <div class="day-header">
                <div class="day-number">{{ day.day }}</div>
                <div class="day-info">
                    <h5 class="day-title">Day {{ day.day }}</h5>
                    <span class="day-date">{{ day.date }}</span>
                </div>
                <div class="day-badge">
                    <span class="problem-count">{{ day.questions|length }}</span>
                    <span class="problem-label">Problems</span>
                </div>
            </div>
            
            <div class="day-content">
                <div class="problems-preview">
                    {% for question in day.questions[:2] %}
                    <div class="problem-item">
                        <div class="problem-index">{{ loop.index }}</div>
                        <div class="problem-info">
                            <span class="problem-title">{{ question.title }}</span>
                            <div class="problem-type">
                                {% if question.leetcode_link %}
                                <span class="type-badge leetcode">LC</span>
                                {% else %}
                                <span class="type-badge custom">Custom</span>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    {% if day.questions|length > 2 %}
                    <div class="more-problems">
                        <span>+{{ day.questions|length - 2 }} more</span>
                    </div>
                    {% endif %}
                </div>
                
                <div class="day-actions">
                    <a href="/study/{{ day.day }}" class="study-btn">
                        <i class="fas fa-play"></i>
                        <span>Start Studying</span>
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Bottom Actions -->
<div class="bottom-actions">
    <div class="row g-3">
        <div class="col-12 col-sm-6">
            <a href="/quiz" class="action-button quiz-button">
                <div class="button-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <div class="button-content">
                    <h5>Practice Quiz</h5>
                    <p>Test your knowledge</p>
                </div>
            </a>
        </div>
        <div class="col-12 col-sm-6">
            <a href="/search" class="action-button search-button">
                <div class="button-icon">
                    <i class="fas fa-search"></i>
                </div>
                <div class="button-content">
                    <h5>Search Problems</h5>
                    <p>Find specific topics</p>
                </div>
            </a>
        </div>
    </div>
</div>
{% endblock %}