{% extends "base.html" %}

{% block title %}{{ title }} - Java Code{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row mb-3">
        <div class="col-12">
            <div class="java-header">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h4 class="mb-0">{{ title }}</h4>
                        <small class="text-muted">{{ filename }}</small>
                    </div>
                    <div>
                        <a href="/additional" class="btn-back">
                            ‚Üê Back to Additional
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div class="java-container">
                <div class="java-header-small">
                    <span><i class="fab fa-java"></i> Java Code</span>
                    <button class="copy-btn" onclick="copyCode()">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                </div>
                <pre id="java-code" class="java-code">{{ content }}</pre>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
function copyCode() {
    const code = document.getElementById('java-code').textContent;
    navigator.clipboard.writeText(code).then(() => {
        const btn = document.querySelector('.copy-btn');
        const originalText = btn.innerHTML;
        btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
        btn.style.background = '#10b981';
        
        setTimeout(() => {
            btn.innerHTML = originalText;
            btn.style.background = '';
        }, 2000);
    });
}
</script>

<style>
.java-header {
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    padding: 24px;
    border-radius: 12px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    margin-bottom: 24px;
    border: 1px solid #e2e8f0;
}

.btn-back {
    background: #64748b;
    color: white;
    padding: 10px 20px;
    border-radius: 8px;
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s ease;
}

.btn-back:hover {
    background: #1e293b;
    color: white;
    transform: translateY(-1px);
}

.java-container {
    background: white;
    border-radius: 12px;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    border: 1px solid #e2e8f0;
}

.java-header-small {
    background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
    color: white;
    padding: 16px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 14px;
    font-weight: 600;
}

.copy-btn {
    background: rgba(255,255,255,0.15);
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.copy-btn:hover {
    background: rgba(255,255,255,0.25);
}

.java-code {
    background: #0d1117;
    color: #e6edf3;
    padding: 24px;
    margin: 0;
    font-family: 'JetBrains Mono', 'Fira Code', 'Monaco', monospace;
    font-size: 14px;
    line-height: 1.6;
    white-space: pre-wrap;
    border: none;
    max-height: 70vh;
    overflow-y: auto;
}

/* Java syntax highlighting */
.java-code {
    color: #e6edf3;
}
</style>
{% endblock %}